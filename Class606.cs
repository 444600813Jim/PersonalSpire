using System;

internal sealed class Class606
{
    internal Class605 class605_0;
    private const int int_0 = 15;
    private const int int_1 = 0x13;
    internal const int int_10 = 0x10;
    private static readonly int int_11 = 0x11e;
    private static readonly int int_12 = ((2 * int_11) + 1);
    internal static readonly int[] int_13 = new int[] { 
        0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 
        3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0
     };
    internal static readonly int[] int_14 = new int[] { 
        0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 
        7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13
     };
    internal static readonly int[] int_15 = new int[] { 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        2, 3, 7
     };
    internal static readonly int[] int_16 = new int[] { 
        0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 12, 14, 0x10, 20, 0x18, 0x1c, 
        0x20, 40, 0x30, 0x38, 0x40, 80, 0x60, 0x70, 0x80, 160, 0xc0, 0xe0, 0
     };
    internal static readonly int[] int_17 = new int[] { 
        0, 1, 2, 3, 4, 6, 8, 12, 0x10, 0x18, 0x20, 0x30, 0x40, 0x60, 0x80, 0xc0, 
        0x100, 0x180, 0x200, 0x300, 0x400, 0x600, 0x800, 0xc00, 0x1000, 0x1800, 0x2000, 0x3000, 0x4000, 0x6000
     };
    internal int int_18;
    private const int int_2 = 30;
    private const int int_3 = 0x100;
    private const int int_4 = 0x1d;
    internal const int int_5 = 7;
    internal const int int_6 = 0x100;
    internal const int int_7 = 0x10;
    internal const int int_8 = 0x11;
    internal const int int_9 = 0x12;
    internal static readonly sbyte[] sbyte_0 = new sbyte[] { 
        0x10, 0x11, 0x12, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 
        14, 1, 15
     };
    private static readonly sbyte[] sbyte_1 = new sbyte[] { 
        0, 1, 2, 3, 4, 4, 5, 5, 6, 6, 6, 6, 7, 7, 7, 7, 
        8, 8, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 
        10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 
        11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 
        13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 
        13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 
        14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 
        14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 
        14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 
        14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 
        15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 
        15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 
        15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 
        15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 
        0, 0, 0x10, 0x11, 0x12, 0x12, 0x13, 0x13, 20, 20, 20, 20, 0x15, 0x15, 0x15, 0x15, 
        0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 
        0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 
        0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 
        0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 
        0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 
        0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 
        0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 
        0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 
        0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 
        0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 
        0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 0x1c, 
        0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 
        0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 
        0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 
        0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d, 0x1d
     };
    internal static readonly sbyte[] sbyte_2 = new sbyte[] { 
        0, 1, 2, 3, 4, 5, 6, 7, 8, 8, 9, 9, 10, 10, 11, 11, 
        12, 12, 12, 12, 13, 13, 13, 13, 14, 14, 14, 14, 15, 15, 15, 15, 
        0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 
        0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x13, 0x13, 0x13, 0x13, 0x13, 0x13, 0x13, 0x13, 
        20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 
        0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 0x15, 
        0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 0x16, 
        0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 
        0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 
        0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 
        0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 
        0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 
        0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 
        0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 0x1a, 
        0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 
        0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1b, 0x1c
     };
    internal short[] short_0;

    internal void method_0(Class935 A_0)
    {
        int num5;
        short[] numArray = this.short_0;
        short[] numArray2 = this.class605_0.short_2;
        int[] numArray3 = this.class605_0.int_9;
        int num = this.class605_0.int_8;
        int index = this.class605_0.int_10;
        int num3 = 0;
        int num4 = 0;
        while (num4 <= 15)
        {
            A_0.short_1[num4] = 0;
            num4++;
        }
        numArray[(A_0.int_36[A_0.int_38] * 2) + 1] = 0;
        int num7 = A_0.int_38 + 1;
        while (num7 < int_12)
        {
            num5 = A_0.int_36[num7];
            num4 = numArray[(numArray[(num5 * 2) + 1] * 2) + 1] + 1;
            if (num4 > index)
            {
                num4 = index;
                num3++;
            }
            numArray[(num5 * 2) + 1] = (short) num4;
            if (num5 <= this.int_18)
            {
                A_0.short_1[num4] = (short) (A_0.short_1[num4] + 1);
                int num6 = 0;
                if (num5 >= num)
                {
                    num6 = numArray3[num5 - num];
                }
                short num8 = numArray[num5 * 2];
                A_0.int_50 += num8 * (num4 + num6);
                if (numArray2 != null)
                {
                    A_0.int_54 += num8 * (numArray2[(num5 * 2) + 1] + num6);
                }
            }
            num7++;
        }
        if (num3 == 0)
        {
            return;
        }
    Label_01A3:
        num4 = index - 1;
        while (A_0.short_1[num4] == 0)
        {
            num4--;
        }
        A_0.short_1[num4] = (short) (A_0.short_1[num4] - 1);
        A_0.short_1[num4 + 1] = (short) (A_0.short_1[num4 + 1] + 2);
        A_0.short_1[index] = (short) (A_0.short_1[index] - 1);
        num3 -= 2;
        if (num3 <= 0)
        {
            for (num4 = index; num4 != 0; num4--)
            {
                num5 = A_0.short_1[num4];
                while (num5 != 0)
                {
                    int num9 = A_0.int_36[--num7];
                    if (num9 <= this.int_18)
                    {
                        if (numArray[(num9 * 2) + 1] != num4)
                        {
                            A_0.int_50 += (num4 - numArray[(num9 * 2) + 1]) * numArray[num9 * 2];
                            numArray[(num9 * 2) + 1] = (short) num4;
                        }
                        num5--;
                    }
                }
            }
        }
        else
        {
            goto Label_01A3;
        }
    }

    internal void method_1(Class935 A_0)
    {
        int num3;
        int num7;
        short[] numArray = this.short_0;
        short[] numArray2 = this.class605_0.short_2;
        int num = this.class605_0.int_7;
        int num2 = -1;
        A_0.int_37 = 0;
        A_0.int_38 = int_12;
        for (num3 = 0; num3 < num; num3++)
        {
            if (numArray[num3 * 2] != 0)
            {
                A_0.int_36[++A_0.int_37] = num2 = num3;
                A_0.sbyte_1[num3] = 0;
            }
            else
            {
                numArray[(num3 * 2) + 1] = 0;
            }
        }
        while (A_0.int_37 < 2)
        {
            num7 = A_0.int_36[++A_0.int_37] = (num2 < 2) ? ++num2 : 0;
            numArray[num7 * 2] = 1;
            A_0.sbyte_1[num7] = 0;
            A_0.int_50--;
            if (numArray2 != null)
            {
                A_0.int_54 -= numArray2[(num7 * 2) + 1];
            }
        }
        this.int_18 = num2;
        num3 = A_0.int_37 / 2;
        while (num3 >= 1)
        {
            A_0.method_5(numArray, num3);
            num3--;
        }
        num7 = num;
        do
        {
            num3 = A_0.int_36[1];
            A_0.int_36[1] = A_0.int_36[A_0.int_37--];
            A_0.method_5(numArray, 1);
            int index = A_0.int_36[1];
            A_0.int_36[--A_0.int_38] = num3;
            A_0.int_36[--A_0.int_38] = index;
            numArray[num7 * 2] = (short) (numArray[num3 * 2] + numArray[index * 2]);
            A_0.sbyte_1[num7] = (sbyte) (Math.Max((byte) A_0.sbyte_1[num3], (byte) A_0.sbyte_1[index]) + 1);
            numArray[(num3 * 2) + 1] = numArray[(index * 2) + 1] = (short) num7;
            A_0.int_36[1] = num7++;
            A_0.method_5(numArray, 1);
        }
        while (A_0.int_37 >= 2);
        A_0.int_36[--A_0.int_38] = A_0.int_36[1];
        this.method_0(A_0);
        smethod_1(numArray, num2, A_0.short_1);
    }

    internal static int smethod_0(int A_0)
    {
        if (A_0 >= 0x100)
        {
            return sbyte_1[0x100 + Class604.smethod_0(A_0, 7)];
        }
        return sbyte_1[A_0];
    }

    internal static void smethod_1(short[] A_0, int A_1, short[] A_2)
    {
        short[] numArray = new short[0x10];
        short num = 0;
        for (int i = 1; i <= 15; i++)
        {
            numArray[i] = num = (short) ((num + A_2[i - 1]) << 1);
        }
        for (int j = 0; j <= A_1; j++)
        {
            int index = A_0[(j * 2) + 1];
            if (index != 0)
            {
                short num5;
                numArray[index] = (short) ((num5 = numArray[index]) + 1);
                A_0[j * 2] = (short) smethod_2(num5, index);
            }
        }
    }

    internal static int smethod_2(int A_0, int A_1)
    {
        int num = 0;
        do
        {
            num |= A_0 & 1;
            A_0 = Class604.smethod_0(A_0, 1);
            num = num << 1;
        }
        while (--A_1 > 0);
        return Class604.smethod_0(num, 1);
    }
}

